<div dir="rtl"><div dir="rtl">

# تحليل التنفيذ المتوازي: ضرب المصفوفات مقابل حساب العاملي
![](E:\ai_projects\Tarjuman\user_2\file_22\media/media/image5.png){width="6.625in" height="3.125e-2in"}

**قارن بين برنامج ضرب مصفوفة ثنائية الأبعاد وبرنامج حساب العاملي من حيث إمكانية التوازي. ناقش في إجابتك النقاط التالية:**

1.  **تحليل المهمة (Task Decomposition)**

**اشرح ما إذا كان تقسيم المهمة (التفكيك) جزئيًا أم كاملاً لكل برنامج.**

1.  **برنامج ضرب المصفوفات ثنائية الأبعاد**

> **النوع: تفكيك كامل باستخدام تفكيك البيانات (Complete Decomposition using Data Decomposition)**

![](E:\ai_projects\Tarjuman\user_2\file_22\media/media/image5.png){width="6.614583333333333in"
height="0.6041666666666666in"}

> في ضرب المصفوفات، حساب كل عنصر (أو كتلة) في المصفوفة الناتجة **C = A × B** هو مستقل. يمكن حساب كل عنصر C\[i\]\[j\] كمهمة منفصلة دون الانتظار للعناصر الأخرى. هذا يسمح بـ:
</div></div>

<div dir="rtl"><div dir="rtl"></div>

-   **التفكيك ذو الحبيبية الدقيقة (Fine-grain decomposition)** حيث تعمل كل تكرار (عنصر) بشكل مستقل

-   **أقصى توازي = n²** لمصفوفة ذات أبعاد n×n

-   لا توجد تبعيات بين المهام التي تحسب عناصر النتيجة المختلفة

> تحقيق ضرب المصفوفات **لتفكيك المهمة الكامل (complete task decomposition)** --- يمكن لجميع وحدات العمل التنفيذ في وقت واحد مع الحد الأدنى من التبعيات.

1.  **برنامج حساب المضروب (Factorial Computation Program)**

> **النوع: تفكيك جزئي (أدنى) (Partial (Minimal) Decomposition) - سلسلة متتابعة (Sequential Chain)**
>
> يتبع حساب المضروب النمط: **n! = n × (n-1) × (n-2) × \... × 1**

![](E:\ai_projects\Tarjuman\user_2\file_22\media/media/image5.png){width="6.614583333333333in"
height="0.59375in"}

> تعتمد كل عملية ضرب في حساب المضروب على نتيجة العملية السابقة، مما يخلق **سلسلة تبعية تسلسلية (serial dependency chain)**:

-   fact(n) تتطلب fact(n-1)

-   fact(n-1) تتطلب fact(n-2)

-   وهكذا...</div>

<div dir="rtl"><div dir="rtl">

يشكل هذا **مسارًا حاسمًا مساويًا للحساب بأكمله**، دون وجود فروع مستقلة للتنفيذ المتوازي.

يمتلك العامل التكراري **تحللًا جزئيًا (محدودًا للغاية)** --- لا يمكن تقسيم المهام إلى وحدات متزامنة مستقلة بسبب تبعيات تسلسلية صارمة.

## 2.  **القابلية للتوسع والكفاءة**

**ناقش مدى استفادة كل برنامج من التنفيذ المتوازي من حيث القابلية للتوسع والكفاءة.**

**ملاحظة:**

**• تشير القابلية للتوسع (Scalability) إلى قدرة البرنامج على تحقيق أداء أسرع مع إضافة المزيد من المعالجات أو الخيوط (threads).**

**• تشير الكفاءة (Efficiency) إلى مدى فعالية استخدام البرنامج للمعالجات أو الخيوط المتاحة لتحقيق تسريع (speedup) أثناء التنفيذ المتوازي.**

### 1.  **ضرب المصفوفة ثنائية الأبعاد**

> **القابلية للتوسع: عالية (HIGH)** ✓

![](E:\ai_projects\Tarjuman\user_2\file_22\media/media/image5.png){width="6.614583333333333in" height="0.6041666666666666in"}

> مع تحلل البيانات إلى كتل (blocks):
</div></div>

<div dir="rtl"><div dir="rtl"></div>

- إضافة المزيد من المعالجات يقلل وقت التنفيذ مباشرة

- يمكن الاستفادة من مئات أو آلاف المعالجات بشكل فعال

- يقتصر بشكل رئيسي على تكاليف النفقات العامة (المزامنة، الاتصال)

> **الكفاءة: عالية** ✓
>
> تقيس الكفاءة مدى استغلال المعالجات بشكل جيد:

![](E:\ai_projects\Tarjuman\user_2\file_22\media/media/image5.png){width="6.614583333333333in" height="0.375in"}

> ضرب المصفوفات يحافظ على كفاءة عالية لأن:

- المهام المستقلة تبقي جميع المعالجات مشغولة

- التجميع الخشن (Coarse-grain blocking) يقلل النفقات العامة إلى الحد الأدنى

- وقت الخمول قليل أو عدم توازن في الحمل

- يتم تحقيق نسبة عالية من التسريع النظري

> مع التقسيم المناسب (Granularity)، يمكن للبرامج المتوازية تحقيق تسريع شبه خطي، مع الحفاظ على كفاءة قريبة من 100% حتى تهيمن تكاليف الاتصال.

1.  **حساب المضروب (Factorial Computation)**

> **القابلية للتوسع: منخفضة جدًا** ✗

![](E:\ai_projects\Tarjuman\user_2\file_22\media/media/image5.png){width="6.614583333333333in" height="0.3854166666666667in"}</div>

<div dir="rtl"><div dir="rtl"></div>

> يعني التسلسل المتسلسل لعملية العاملي (Factorial):

- إضافة معالجات لا توفر **أي فائدة**

- وقت التنفيذ يظل ثابتًا (مساويًا للمسار الحرج)

- أقصى درجة من التزامن = **معالج واحد في كل مرة**

- لا يمكن تقليل وقت الساعة الحائطية (wall-clock time) بغض النظر عن عدد المعالجات المتاحة

> **الكفاءة: منخفضة جدًا** ✗

![](E:\ai_projects\Tarjuman\user_2\file_22\media/media/image5.png){width="6.614583333333333in" height="0.375in"}

> تُظهر عملية العاملي كفاءة ضعيفة لأن:

- معظم المعالجات تظل **خاملة** (غير مستخدمة)

- تقترب الكفاءة من **0%** مع زيادة عدد المعالجات

- تكاليف النفقات العامة (إنشاء الخيوط، المزامنة) تتجاوز أي فائدة

- **تضخم العمل (Work Inflation)** --- قد يكون الإصدار المتوازي أبطأ من الإصدار التسلسلي

> **مثال:** مع 8 معالجات تحاول حساب العاملي، معالج واحد فقط يمكنه العمل في أي وقت → الكفاءة = (1/8) × 100% = **12.5%** كحد أقصى

3. **لماذا تُظهر عملية العاملي تحسنًا متوازيًا ضئيلًا أو معدومًا**

التحسن المتوازي المحدود في حساب العاملي</div>

<div dir="rtl"><div dir="rtl"></div>
اشرح سبب عدم ظهور تحسن ملحوظ أو عدم وجود تحسن في الأداء في برنامج حساب المضروب (factorial) عند التنفيذ المتوازي مقارنة بالإصدار التسلسلي.

> فشل حساب المضروب (factorial) في الاستفادة من التوازي (parallelization) بسبب:

1.  **هيمنة المسار الحرج (Critical Path Dominance)**

> **الحساب الكامل للمضروب (Factorial) هو المسار الحرج (critical path)**: ![](E:\ai_projects\Tarjuman\user_2\file_22\media/media/image5.png){width="6.614583333333333in" height="0.375in"}

- كل عملية ضرب تعتمد على ناتج العملية السابقة

- طول المسار الحرج (Critical Path) = إجمالي العمل (Total Work)

- **الحد الأعلى للتسريع (Speedup upper bound) = إجمالي العمل (Total Work) ÷ المسار الحرج (Critical Path) ≈ 1.0**

- لا يوجد توازي (parallelism) يمكن استغلاله

2.  **التبعيات التسلسلية (Sequential Dependencies)**

![](E:\ai_projects\Tarjuman\user_2\file_22\media/media/image5.png){width="6.614583333333333in" height="0.3854166666666667in"}

> ينتهي المضروب (Factorial) شرط الاستقلالية (independence requirement):

- يكوّن رسم بياني لتبعيات المهام (Task dependency graph) **سلسلة خطية (linear chain)**

- لا يمكن وجود فروع متزامنة (concurrent branches)

- أقصى درجة توازي (Maximum concurrency) = **مهمة واحدة في كل مرة (1 task at a time)**</div>

<div dir="rtl"><div dir="rtl"></div>

- يندرج تحت نمط **التنفيذ المتسلسل (sequential execution)** حيث تعمل مهمة واحدة فقط في أي لحظة

3.  **تجاوز النفقات العامة للفائدة**

![](E:\ai_projects\Tarjuman\user_2\file_22\media/media/image5.png){width="6.614583333333333in" height="0.59375in"}

> يتكبد المضروب المتوازي:

- **تضخم العمل (Work inflation)** --- تكرار الكود/البيانات عبر الخيوط (threads)

- **تكاليف التنسيق (Coordination costs)** --- الحواجز (barriers)، والأقفال (locks)، والعمليات الذرية (atomic operations)

- النفقات العامة لإدارة الخيوط (Thread management overhead)

- عقوبات تبديل السياق (Context switching penalties)

> بما أنه لا يحدث عمل متوازي فعلي، فإن **النفقات العامة تسيطر**، مما يجعل النسخة المتوازية
>
> **أبطأ من التسلسلية**

4.  **قيد قانون أمداهل (Amdahl's Law Limitation)**

![](E:\ai_projects\Tarjuman\user_2\file_22\media/media/image5.png){width="6.614583333333333in" height="0.3854166666666667in"}

> يحتوي المضروب على **جزء تسلسلي يقترب من 100%**:

- حتى مع وجود معالجات لا نهائية، يظل التسريع (speedup) ≈ 1.0

- لا يمكن تحويل السلسلة المتسلسلة إلى شكل متوازٍ

- قيد خوارزمي أساسي، وليس مشكلة في التنفيذ

3.  **جدول المقارنة**</div>

<div dir="rtl">```markdown
<div dir="rtl">

+--------------------+------------------------------------+--------------------------------------+
| > **الجانب**       | > **ضرب المصفوفات**                | > **حساب العاملي**                   |
|                    | > (Matrix Multiplication)          | > (Factorial Computation)            |
+--------------------+------------------------------------+--------------------------------------+
| > **نوع التحليل**  | > كامل / تحليل البيانات           | > جزئي (أدنى حد) /                   |
| > (Decomposition   | > (Complete / Data                 | > سلسلة متتابعة                      |
| > Type)**          | > Decomposition)                   | > (Partial (Minimal) / Sequential Chain) |
+--------------------+------------------------------------+--------------------------------------+
| > **الاستقلالية**  | > عالية - كتل/عناصر مستقلة        | > معدومة - تبعيات متتابعة صارمة     |
| > (Independence)** | > (High - independent blocks/elements) | > (None - strict sequential dependencies) |
+--------------------+------------------------------------+--------------------------------------+
| > **التوازي**      | > أقصى حد = n² (حبيبي دقيق)        | > أقصى حد = 1 (لا يوجد توازي)        |
| > (Parallelism)**  | > (Maximum = n² (fine-grain))      | > (Maximum = 1 (no parallelism))     |
+--------------------+------------------------------------+--------------------------------------+

</div>
```</div>

<div dir="rtl">```markdown
<div dir="rtl">

|                    | > أو كتل (حبيبية خشنة)     | > مهام متزامنة)          |
+--------------------+-----------------------------+--------------------------+
| > **المسار الحرج** | > قصير (عمليات قليلة لكل   | > طويل (حساب كامل)       |
|                    | > كتلة)                     |                          |
+--------------------+-----------------------------+--------------------------+
| > **القابلية للتوسع** | - عالية - تتوسع مع      | > ✗ منخفضة جداً - لا     |
|                    |   المعالجات                 | > فائدة من التوسع        |
+--------------------+-----------------------------+--------------------------+
| > **الكفاءة**      | - عالية - استخدام فعال     | > ✗ منخفضة جداً - معظم   |
|                    |   للمعالجات                 | > المعالجات خاملة        |
+--------------------+-----------------------------+--------------------------+
| > **تسريع السرعة** | > شبه خطي مع التقسيم       | > ≈ 1.0 (لا يوجد تسريع)  |
|                    |   المناسب                   |                          |
+--------------------+-----------------------------+--------------------------+

</div>
```</div>

<div dir="rtl">```markdown
<div dir="rtl">

| > **التأثير المحتمل** | > مستوى التفصيل            |                          |
|--------------------|-----------------------------|--------------------------|
| > **تأثير النفقات العامة** | > يمكن إدارته مع           | > يهيمن - يجعل           |
| >                  | > الحجب ذي الحبيبات الخشنة  | > التوازي أبطأ           |
+--------------------+-----------------------------+--------------------------+
| > **الفائدة العملية** | - تحسن أداء كبير           | > ✗ لا يوجد تحسن،        |
| >                  |                             | > ربما تدهور             |
+====================+=============================+==========================+

</div>
```</div>